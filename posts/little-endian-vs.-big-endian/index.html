<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Little Endian vs. Big Endian | Sukbeom Kim</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="ê°œìš” ğŸ”—ë¹… ì—”ë””ì•ˆê³¼ ë¦¬í‹€ ì—”ë””ì•ˆì— ê´€í•´ ì—…ë¬´ì—ì„œ ì ‘í•  ìˆ˜ ìˆëŠ” ìƒí™©ê³¼ ê°ê°ì— í•´ë‹¹í•˜ëŠ” í¬ì¸í„° ì—°ì‚° ì˜ˆì œë¥¼ ì¢…í•©ì ìœ¼ë¡œ ì •ë¦¬í•˜ë„ë¡ í•œë‹¤. ì—”ë””ì•ˆ(Endianness">
<meta name="generator" content="Hugo 0.121.2">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">


  
    
    <link rel="stylesheet" href="https://seokbeomkim.github.iocss/img.css">
  

  
    
    <link rel="stylesheet" href="https://seokbeomkim.github.iocss/noto_sans_kr.css">
  

  
    
    <link rel="stylesheet" href="https://seokbeomkim.github.iocss/nanumgothic.css">
  


<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-Y7VW74D2P3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
	  <a class="button" href="https://seokbeomkim.github.io/index.xml">Subscribe</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Little Endian vs. Big Endian</h1>

    <div class="tip">
        <time datetime="2020-01-27 22:27:06 &#43;0900 KST">Jan 27, 2020</time>
        <span class="split">
          Â·
        </span>
        <span>
          1575 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          4 minute read
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#ê°€ë…ì„±">ê°€ë…ì„±</a></li>
  </ul>

  <ul>
    <li><a href="#íƒ€ì…-ì •ì˜">íƒ€ì… ì •ì˜</a></li>
    <li><a href="#byte-order-ì•Œì•„ë‚´ê¸°">Byte Order ì•Œì•„ë‚´ê¸°</a></li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <h1 id="ê°œìš”">ê°œìš” <a href="#%ea%b0%9c%ec%9a%94" class="anchor">ğŸ”—</a></h1><p>ë¹… ì—”ë””ì•ˆê³¼ ë¦¬í‹€ ì—”ë””ì•ˆì— ê´€í•´ ì—…ë¬´ì—ì„œ ì ‘í•  ìˆ˜ ìˆëŠ” ìƒí™©ê³¼ ê°ê°ì— í•´ë‹¹í•˜ëŠ” í¬ì¸í„° ì—°ì‚° ì˜ˆì œë¥¼ ì¢…í•©ì ìœ¼ë¡œ ì •ë¦¬í•˜ë„ë¡ í•œë‹¤.</p>
<p><p class="markdown-image">
  <img src="/img/endian_compare.png" alt="Endian ë¹„êµ"  />
</p></p>
<p>ì—”ë””ì•ˆ(Endianness)ì€ ì»´í“¨í„°ì˜ ë©”ëª¨ë¦¬ì™€ ê°™ì€ <strong>1ì°¨ì› ê³µê°„ì— ì—¬ëŸ¬ ê°œì˜ ì—°ì†ëœ ëŒ€ìƒì„ ë°°ì—´í•˜ëŠ” ë°©ë²•</strong>ì„ ëœ»í•˜ë©°, ë°”ì´íŠ¸ë¥¼ ë°°ì—´í•˜ëŠ” ë°©ë²•ì„ ë°”ì´íŠ¸ ìˆœì„œ(Byte-order)ë¼ê³  í•œë‹¤. <strong>ì—”ë””ì•ˆì€ ë³´í†µ í° ë‹¨ìœ„ê°€ ì•ì— ë‚˜ì˜¤ëŠ” ë¹… ì—”ë””ì•ˆ(Big-Endian)ê³¼ ì‘ì€ ë‹¨ìœ„ê°€ ì•ì— ë‚˜ì˜¤ëŠ” ë¦¬í‹€ ì—”ë””ì•ˆ(Little-Endian)ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìœ¼ë©°</strong>, ë‘ ê²½ìš°ì— ì†í•˜ì§€ ì•Šê±°ë‚˜ ë‘˜ ëª¨ë‘ ì§€ì›í•˜ëŠ” ê²ƒì„ ë¯¸ë“¤ ì—”ë””ì•ˆ(Middle-Endian)ì´ë¼ ë¶€ë¥¸ë‹¤.</p>
<ul>
<li>Big-Endian: ìµœìƒìœ„ ë°”ì´íŠ¸(MSB)ë¶€í„° ì°¨ë¡€ë¡œ ì €ì¥í•˜ëŠ” ë°©ì‹
(ì‚¬ëŒì´ ì½ê³  ì“°ëŠ” ë°©ì‹ê³¼ ë¹„ìŠ·í•¨)</li>
<li>Little-Endian: ìµœí•˜ìœ„ ë°”ì´íŠ¸(LSB)ë¶€í„° ì°¨ë¡€ë¡œ ì €ì¥í•˜ëŠ” ë°©ì‹</li>
</ul>
<h1 id="ì˜ˆì œ">ì˜ˆì œ <a href="#%ec%98%88%ec%a0%9c" class="anchor">ğŸ”—</a></h1><p>ì˜ˆë¥¼ ë“¤ì–´, ë©”ëª¨ë¦¬ì— 0x12345678ì„ ëŒ€ì…í•œë‹¤ê³  í–ˆì„ ë•Œ, ë¹… ì—”ë””ì•ˆê³¼ ë¦¬í‹€ ì—”ë””ì•ˆ ê°ê° ì•„ë˜ì™€ ê°™ì´ ì €ì¥ëœë‹¤.</p>
<p><p class="markdown-image">
  <img src="/img/byte_order_in_mem.png" alt="Byte order in memory"  />
</p></p>
<p>ë¹… ì—”ë””ì•ˆì€ ì‚¬ëŒì´ ìˆ«ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ì´ í° ë‹¨ìœ„ì˜ ë°”ì´íŠ¸ê°€ ì•ì— ì˜¤ëŠ” ë°©ë²•ì´ê³  ë¦¬í‹€ ì—”ë””ì•ˆì€ ë°˜ëŒ€ë¡œ ì‘ì€ ë‹¨ìœ„ì˜ ë°”ì´íŠ¸ê°€ ì•ì— ì˜¤ëŠ” ë°©ë²•ì´ë‹¤.</p>
<pre><code>#include &lt;stdio.h&gt;

int main(void) {
	unsigned long value = 0x12345678;
	unsigned char* ptr = &amp;value;

	int i;

	for (i = 0; i &lt; 4; i++) {
		fprintf(stdout, &quot;value[%d] = 0x%x\n&quot;, i, *ptr++);
	}

	unsigned long long value2 = 0x12345678abcdefab;
	ptr = &amp;value2;
	for (i = 0; i &lt; sizeof(value2); i++) {
		fprintf(stdout, &quot;value2[%d] = 0x%x\n&quot;, i, *ptr++);
	}

	return 0;
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ì—¬ Mac OS í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.</p>
<pre><code>~/Workspaces/study/languages/modernc/endian $ ./endian
value[0] = 0x78
value[1] = 0x56
value[2] = 0x34
value[3] = 0x12
value2[0] = 0xab
value2[1] = 0xef
value2[2] = 0xcd
value2[3] = 0xab
value2[4] = 0x78
value2[5] = 0x56
value2[6] = 0x34
value2[7] = 0x12
</code></pre>
<p>0x12345678ì—ì„œ MSBëŠ” 0x12, LSBëŠ” 0x78ì´ë©°, LSBê°€ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ë¦¬í‹€ ì—”ë””ì•ˆ ë°©ì‹ìœ¼ë¡œ <code>Byte-ordering</code>ì„ í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. <code>unsigned long long</code>ì˜ ê²½ìš°ë¡œ í™•ì¸í•  ìˆ˜ ìˆë“¯ì´ 4ë°”ì´íŠ¸ë‚˜ 8ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ byte-ordering ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•´ë‹¹ ë°ì´í„° íƒ€ì…ì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>
<h1 id="ì¥ë‹¨ì ">ì¥/ë‹¨ì  <a href="#%ec%9e%a5%eb%8b%a8%ec%a0%90" class="anchor">ğŸ”—</a></h1><h2 id="ê°€ë…ì„±">ê°€ë…ì„± <a href="#%ea%b0%80%eb%8f%85%ec%84%b1" class="anchor">ğŸ”—</a></h2><p>Big-Endianì€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë””ë²„ê·¸ë¥¼ í¸í•˜ê²Œ í•´ì£¼ëŠ” ê²½í–¥ì´ ìˆë‹¤. ì‚¬ëŒì´ ìˆ«ìë¥¼ ì½ê³  ì“°ëŠ” ë°©ë²•ê³¼ ê°™ê¸° ë•Œë¬¸ì— ë””ë²„ê¹… ê³¼ì •ì—ì„œ ë©”ëª¨ë¦¬ì˜ ê°’ì„ ë³´ê¸° í¸í•˜ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, <strong><em>0x59654148</em>ì„ Big-Endianìœ¼ë¡œ í‘œí˜„í•˜ë©´ <em>0x59, 0x65, 0x41, 0x48</em> ë“±ìœ¼ë¡œ ë©”ëª¨ë¦¬ì— ìˆœì„œëŒ€ë¡œ í‘œí˜„</strong>ëœë‹¤.</p>
<p>ë°˜ëŒ€ë¡œ Little-Endianì€ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ê°’ì˜ í•˜ìœ„ ë°”ì´íŠ¸ë“¤ë§Œ ì‚¬ìš©í•  ë•Œ ë³„ë„ì˜ ê³„ì‚°ì´ í•„ìš” ì—†ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 32ë¹„íŠ¸ ìˆ«ìì¸ 0x2AëŠ” ë¦¬í‹€ ì—”ë””ì–¸ìœ¼ë¡œ í‘œí˜„í•˜ë©´ 2A 00 00 00ì´ ë˜ëŠ”ë°, ì´ í‘œí˜„ì—ì„œ ì•ì˜ ë‘ ë°”ì´íŠ¸ ë˜ëŠ” í•œ ë°”ì´íŠ¸ë§Œ ë–¼ì–´ë‚´ë©´ í•˜ìœ„ 16ë¹„íŠ¸ ë˜ëŠ” 8ë¹„íŠ¸ë¥¼ ë°”ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤. ë°˜ë©´ 32ë¹„íŠ¸ ë¹… ì—”ë””ì•ˆ í™˜ê²½ì—ì„œëŠ” í•˜ìœ„ 16ë¹„íŠ¸ë‚˜ 8ë¹„íŠ¸ ê°’ì„ ì–»ê¸° ìœ„í•´ ë³€ìˆ˜ ì£¼ì†Œì— 2ë°”ì´íŠ¸ ë˜ëŠ” 3ë°”ì´íŠ¸ë¥¼ ë”í•´ì•¼ í•œë‹¤.</p>
<h1 id="ì»¤ë„-ë‚´-ì¸í„°í˜ì´ìŠ¤">ì»¤ë„ ë‚´ ì¸í„°í˜ì´ìŠ¤ <a href="#%ec%bb%a4%eb%84%90-%eb%82%b4-%ec%9d%b8%ed%84%b0%ed%8e%98%ec%9d%b4%ec%8a%a4" class="anchor">ğŸ”—</a></h1><p>ì»¤ë„ì€ <code>byte order</code> ì— ëŒ€í•œ ì˜ì¡´ì„±ì„ í•´ê²°í•˜ê¸° ìœ„í•´ <code>Type Identifier</code>, <code>Conversion Macro</code> ë“±ì„ ì œê³µí•˜ê³  ìˆë‹¤. <code>include/uapi/linux/types.h</code> í—¤ë” íŒŒì¼ ë‚´ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì—”ë””ì•ˆ ë³„ë¡œ íƒ€ì…ë“¤ì´ ì •ì˜ë˜ì–´ ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ uapi ë””ë ‰í† ë¦¬ëŠ” ì»¤ë„ì˜ userspace APIë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤.
(ì°¸ê³ . <a href="https://stackoverflow.com/questions/18858190/whats-in-include-uapi-of-kernel-source-project" target="_blank" rel="noopener">https://stackoverflow.com/questions/18858190/whats-in-include-uapi-of-kernel-source-project</a>)</p>
<h2 id="íƒ€ì…-ì •ì˜">íƒ€ì… ì •ì˜ <a href="#%ed%83%80%ec%9e%85-%ec%a0%95%ec%9d%98" class="anchor">ğŸ”—</a></h2><pre><code>/*
 * Below are truly Linux-specific types that should never collide with
 * any application/library that wants linux/types.h.
 */

#ifdef __CHECKER__
#define __bitwise__ __attribute__((bitwise))
#else
#define __bitwise__
#endif
#define __bitwise __bitwise__

typedef __u16 __bitwise __le16;
typedef __u16 __bitwise __be16;
typedef __u32 __bitwise __le32;
typedef __u32 __bitwise __be32;
typedef __u64 __bitwise __le64;
typedef __u64 __bitwise __be64;

typedef __u16 __bitwise __sum16;
typedef __u32 __bitwise __wsum;
</code></pre>
<p>bitwise ì†ì„±(ë‹¨ìˆœíˆ ì •ìˆ˜ë¡œì¨ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ì œí•œí•˜ëŠ”ë° ì‚¬ìš©)ìœ¼ë¡œ ì •ì˜ë˜ì–´ ìˆëŠ” Type Identifiers ë“¤ì´ë‹¤. bitwise ì†ì„±ì€ sparse ìœ í‹¸ë¦¬í‹°(static analyzer)ê°€ ë³€ìˆ˜ì— ëŒ€í•œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— ë¡œì»¬ í”„ë¡œì„¸ì„œë¡œ ë³€í™˜ë  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•œë‹¤.</p>
<h2 id="byte-order-ì•Œì•„ë‚´ê¸°">Byte Order ì•Œì•„ë‚´ê¸° <a href="#byte-order-%ec%95%8c%ec%95%84%eb%82%b4%ea%b8%b0" class="anchor">ğŸ”—</a></h2><p>ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨í•œ user-space í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì—¬ í˜„ì¬ ì‹œìŠ¤í…œì˜ ë°”ì´íŠ¸ ì˜¤ë”ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤.</p>
<pre><code>union {
    int i;
    char c[sizeof(int)];
} foo;

main() {
    foo.i = 1;
    if (foo.c[0] == 1)
        printf(&quot;Little endian\n&quot;);
    else
        printf(&quot;Big endian\n&quot;);
}
</code></pre>
<p>ë‹¤ìŒì— ì†Œê°œë˜ëŠ” ë§¤í¬ë¡œëŠ” ë³€í™˜ í›„ì˜ ê°’ë“¤ì„ ë°˜í™˜í•œë‹¤.</p>
<pre><code>#include &lt;linux/kernel.h&gt;

__u16	le16_to_cpu(const __le16);
__u32	le32_to_cpu(const __le32);
__u64	le64_to_cpu(const __le64);

__le16	cpu_to_le16(const __u16);
__le32	cpu_to_le32(const __u32);
__le64	cpu_to_le64(const __u64);

__u16	be16_to_cpu(const __be16);
__u32	be32_to_cpu(const __be32);
__u64	be64_to_cpu(const __be64);

__be16	cpu_to_be16(const __u16);
__be32	cpu_to_be32(const __u32);
__be64	cpu_to_be64(const __u64);
</code></pre>
<p>í¬ì¸í„°ì— ëŒ€í•œ ë³€í™˜ì€ pë¥¼ ë¶™ì—¬ì„œ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•˜ë©°, í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ì„œ ì—”ë””ì•ˆ í™˜ê²½ì— ë§ê²Œ ë³€í™˜í•´ì£¼ëŠ” ë§¤í¬ë¡œë„ ì•„ë˜ì™€ ê°™ì´ ì œê³µí•˜ê³  ìˆë‹¤.</p>
<pre><code>#include &lt;linux/kernel.h&gt;

void le16_to_cpus(__u16 *);
void le32_to_cpus(__u32 *);
void le64_to_cpus(__u64 *);

void cpu_to_le16s(__u16 *);
void cpu_to_le32s(__u32 *);
void cpu_to_le64s(__u64 *);

void be16_to_cpus(__u16 *);
void be32_to_cpus(__u32 *);
void be64_to_cpus(__u64 *);

void cpu_to_be16s(__u16 *);
void cpu_to_be32s(__u32 *);
void cpu_to_be64s(__u64 *);

__u16	le16_to_cpup(const __le16 *);
__u32	le32_to_cpup(const __le32 *);
__u64	le64_to_cpup(const __le64 *);

__le16	cpu_to_le16p(const __u16 *);
__le32	cpu_to_le32p(const __u32 *);
__le64	cpu_to_le64p(const __u64 *);

__u16	be16_to_cpup(const __be16 *);
__u32	be32_to_cpup(const __be32 *);
__u64	be64_to_cpup(const __be64 *);

__be16	cpu_to_be16p(const __u16 *);
__be32	cpu_to_be32p(const __u32 *);
__be64	cpu_to_be64p(const __u64 *);
</code></pre>
<h1 id="ì¶œì²˜">ì¶œì²˜ <a href="#%ec%b6%9c%ec%b2%98" class="anchor">ğŸ”—</a></h1><ul>
<li><a href="http://www.bruceblinn.com/linuxinfo/ByteOrder.html" target="_blank" rel="noopener">http://www.bruceblinn.com/linuxinfo/ByteOrder.html</a></li>
<li><a href="https://stackoverflow.com/questions/18858190/whats-in-include-uapi-of-kernel-source-project" target="_blank" rel="noopener">https://stackoverflow.com/questions/18858190/whats-in-include-uapi-of-kernel-source-project</a></li>
</ul>

    </div>

    
        <div class="tags">
            
                <a href="https://seokbeomkim.github.io/tags/big-endian">big endian</a>
            
                <a href="https://seokbeomkim.github.io/tags/little-endian">little endian</a>
            
                <a href="https://seokbeomkim.github.io/tags/endian">endian</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        Copyright - Sukbeom Kim
    
    </div>

    
</footer>



  </body>
</html>
