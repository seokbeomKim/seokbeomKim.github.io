<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Chroot í™˜ê²½ì„ ì´ìš©í•œ Yocto í™˜ê²½ êµ¬ì„± | Sukbeom Kim</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="ìš°ë¶„íˆ¬ ë²„ì „ê³¼ Yocto ë²„ì „ ğŸ”—AGL (Automotive Grande Linux) ë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•´ë³´ê¸° ìœ„í•´ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•˜ì˜€ë‹¤. ì‘ì—… í™˜ê²½ì€ ê°€ì¥ ìµœì‹  ë²„ì „ì˜ ìš°ë¶„íˆ¬ 21.10 ë²„ì „ìœ¼ë¡œ êµ¬ì„±í•˜ì˜€ë‹¤">
<meta name="generator" content="Hugo 0.121.2">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">


  
    
    <link rel="stylesheet" href="https://seokbeomkim.github.iocss/img.css">
  

  
    
    <link rel="stylesheet" href="https://seokbeomkim.github.iocss/noto_sans_kr.css">
  

  
    
    <link rel="stylesheet" href="https://seokbeomkim.github.iocss/nanumgothic.css">
  


<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-Y7VW74D2P3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
	  <a class="button" href="https://seokbeomkim.github.io/index.xml">Subscribe</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Chroot í™˜ê²½ì„ ì´ìš©í•œ Yocto í™˜ê²½ êµ¬ì„±</h1>

    <div class="tip">
        <time datetime="2020-02-01 23:27:45 &#43;0900 KST">Feb 1, 2020</time>
        <span class="split">
          Â·
        </span>
        <span>
          1262 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          3 minute read
        </span>
    </div>

    
    
        
  


    


    <div class="content">
      <h1 id="ìš°ë¶„íˆ¬-ë²„ì „ê³¼-yocto-ë²„ì „">ìš°ë¶„íˆ¬ ë²„ì „ê³¼ Yocto ë²„ì „ <a href="#%ec%9a%b0%eb%b6%84%ed%88%ac-%eb%b2%84%ec%a0%84%ea%b3%bc-yocto-%eb%b2%84%ec%a0%84" class="anchor">ğŸ”—</a></h1><p>AGL (Automotive Grande Linux) ë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•´ë³´ê¸° ìœ„í•´ ê°œë°œ
í™˜ê²½ì„ êµ¬ì„±í•˜ì˜€ë‹¤. ì‘ì—… í™˜ê²½ì€ ê°€ì¥ ìµœì‹  ë²„ì „ì˜ ìš°ë¶„íˆ¬ 21.10 ë²„ì „ìœ¼ë¡œ
êµ¬ì„±í•˜ì˜€ë‹¤. ê°œì¸ì ìœ¼ë¡œ Rolling Release ë°°í¬íŒì¸ ì•„ì¹˜ë¦¬ëˆ…ìŠ¤ë‚˜ ì  íˆ¬ ë¦¬ëˆ…ìŠ¤ë“¤ì„
ì„ í˜¸í•˜ì§€ë§Œ ì‚¬ìš©ìê°€ ë§ê³  í”„ë¡œì íŠ¸ ëŒ€ë¶€ë¶„ì—ì„œ ë°ë¹„ì•ˆ íƒ€ì…ì˜ íŒ¨í‚¤ì§•ì„ ì§€ì›í•˜ë¯€ë¡œ,
ìµìˆ™í•œ ìš°ë¶„íˆ¬ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.</p>
<p>í•œ ê°€ì§€ ì¤‘ìš”í•œ ê²ƒì€ ìš°ë¶„íˆ¬ì˜ ê²½ìš° ê° ë²„ì „ë§ˆë‹¤ ë¹Œë“œ í™˜ê²½ì´ ë‹¤ë¥´ê³ , Yoctoì˜ ê²½ìš°
ì´ëŸ¬í•œ ë¹Œë“œ í™˜ê²½ì— ì˜ì¡´ì„±ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì²˜ìŒ Ubuntu 21.10 ë²„ì „ì—ì„œ
ë ˆì‹œí”¼ë¥¼ ë¹Œë“œí–ˆì„ ë•Œ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ ë©”ì‹œì§€ì— ë§ë”±ë“œë ¸ë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>In file included from ../include/QtCore/qfloat16.h:1,
</span></span><span style="display:flex;"><span>	from ../include/QtCore/../../../git/src/corelib/global/qendian.h:44,
</span></span><span style="display:flex;"><span>	from ../include/QtCore/qendian.h:1,
</span></span><span style="display:flex;"><span>	from /home/sukbeom/Workspace/AGL/build/tmp/work/x86_64-linux/qtbase-native/5.14.2+gitAUTOINC+3a6d8df521-r0/git/src/corelib/codecs/qutfcodec.cpp:43:
</span></span><span style="display:flex;"><span>../include/QtCore/../../../git/src/corelib/global/qfloat16.h:295:7: error: â€˜numeric_limitsâ€™ is not a class template
</span></span><span style="display:flex;"><span>295 | class numeric_limits&lt;QT_PREPEND_NAMESPACE(qfloat16)&gt; : public numeric_limits&lt;float&gt;
</span></span><span style="display:flex;"><span>|       ^~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>../include/QtCore/../../../git/src/corelib/global/qfloat16.h:295:77: error: expected template-name before â€˜&lt;â€™ token
</span></span><span style="display:flex;"><span>295 | class numeric_limits&lt;QT_PREPEND_NAMESPACE(qfloat16)&gt; : public numeric_limits&lt;float&gt;
</span></span><span style="display:flex;"><span>|                                                                             ^
</span></span><span style="display:flex;"><span>../include/QtCore/../../../git/src/corelib/global/qfloat16.h:295:77: error: expected â€˜{â€™ before â€˜&lt;â€™ token
</span></span><span style="display:flex;"><span>../include/QtCore/../../../git/src/corelib/global/qfloat16.h:333:18: error: â€˜numeric_limitsâ€™ is not a class template
</span></span><span style="display:flex;"><span>333 | template&lt;&gt; class numeric_limits&lt;const QT_PREPEND_NAMESPACE(qfloat16)&gt;
</span></span><span style="display:flex;"><span>|                  ^~~~~~~~~~~~~~
</span></span><span style="display:flex;"><span>../include/QtCore/../../../git/src/corelib/global/qfloat16.h:333:69: error: â€˜std::numeric_limitsâ€™ is not a template
</span></span><span style="display:flex;"><span>333 | template&lt;&gt; class numeric_limits&lt;const QT_PREPEND_NAMESPACE(qfloat16)&gt;
</span></span></code></pre></div><p>ì´ ë¬¸ì œëŠ” Yoctoì˜ ë¹Œë“œ í™˜ê²½ì— ëŒ€í•œ ì˜ì¡´ì„± ë•Œë¬¸ì´ì—ˆë‹¤. ê·¸ë¦¬ê³  ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´
í•„ìš”í•œ ê²ƒì´ ë°”ë¡œ chroot ì´ë‹¤. ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” coreutils, binutils, gcc, &hellip;
ë“±ì˜ íŒ¨í‚¤ì§€ë“¤ì€ ìš°ë¶„íˆ¬ì˜ ê²½ìš° ë²„ì „ ë³„ë¡œ ë‹¤ë¥´ê²Œ êµ¬ì„±ë˜ì–´ ìˆê³  ê° íŒ¨í‚¤ì§€ë“¤ë¼ë¦¬ë„
ì„œë¡œì— ëŒ€í•´ ì–´ëŠ ì •ë„ ì˜ì¡´ì„±ì„ ê°€ì§„ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ chrootì€ ë¦¬ëˆ…ìŠ¤ë¥¼ ì²˜ìŒ ì„¤ì¹˜í• 
ë•Œ, LiveCD í™˜ê²½ì—ì„œ ìƒˆë¡œ ì„¤ì¹˜í•˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì„ ë¹Œë“œí•˜ê¸° ìœ„í•œ ì„ì‹œ í™˜ê²½ì„
êµ¬ì„±í•˜ê±°ë‚˜ íˆ´ì²´ì¸ì„ ë¹Œë“œí•˜ê¸° ìœ„í•œ ì„ì‹œ í™˜ê²½ì„ êµ¬ì„±í•  ë•Œ ì‚¬ìš©í•œë‹¤. ìœ„ì˜ ë¬¸ì œë„
Yocto ë²„ì „ì— ë”°ë¼ ìš”êµ¬í•˜ëŠ” ë¹Œë“œ í™˜ê²½ì´ ìˆìœ¼ë‹ˆ ì„œë²„ì— ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ì‹œìŠ¤í…œì—ì„œ
chrootì„ ìœ„í•œ fakeroot í™˜ê²½ì„ êµ¬ì„±í•´ì£¼ë©´ ëœë‹¤. ë‹¤í–‰ì´ë„ ìš°ë¶„íˆ¬ì—ì„œëŠ” ì´ë¥¼ ìœ„í•´
<code>debootstra</code> ì´ë¼ëŠ” ê²ƒì„ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ í™˜ê²½ì„ ë§Œë“¤ ìˆ˜ ìˆì—ˆë‹¤.</p>
<h1 id="chroot-í™˜ê²½-êµ¬ì„±">chroot í™˜ê²½ êµ¬ì„± <a href="#chroot-%ed%99%98%ea%b2%bd-%ea%b5%ac%ec%84%b1" class="anchor">ğŸ”—</a></h1><p><strong>debootstrap ì´ìš©í•˜ê¸°</strong></p>
<p>chroot í•˜ê¸° ìœ„í•œ ì„ì‹œ rootfs êµ¬ì¡°ë¥¼ debootstrap ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ êµ¬ì„±í•œë‹¤. ì´
ë•Œ ì¤‘ìš”í•œ ê²ƒì€ focal ëŒ€ì‹ ì— ë‹¤ë¥¸ ë¦´ë¦¬ì¦ˆëœ ì´ë¦„ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤.
<a href="https://wiki.ubuntu.com/Releases" target="_blank" rel="noopener">https://wiki.ubuntu.com/Releases</a> í˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ì—¬ ë³€ê²½í•˜ê³ ì í•˜ëŠ” ìš°ë¶„íˆ¬
ë²„ì „ìœ¼ë¡œ ì„ì‹œ ì‹œìŠ¤í…œ í™˜ê²½ì„ êµ¬ì„±í•œë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo debootstrap --variant<span style="color:#666">=</span>buildd focal AGL-chroot
</span></span><span style="display:flex;"><span>$ sudo mount -t proc /proc AGL-chroot/proc
</span></span><span style="display:flex;"><span>$ sudo mount --rbind /sys/ AGL-chroot/sys
</span></span><span style="display:flex;"><span>$ sudo mount --rbind /dev AGL-chroot/dev
</span></span><span style="display:flex;"><span>$ sudo chroot AGL-chroot /bin/bash
</span></span></code></pre></div><p><strong>sources.list ìˆ˜ì •í•˜ê¸°</strong></p>
<p>chroot í™˜ê²½ì—ì„œ í•„ìš”í•œ build íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ sources.list
ë¥¼ ë³€ê²½í•œë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ root@sukbeom-P65-67HSHP:~# vi /etc/apt/sources.list
</span></span><span style="display:flex;"><span>deb http://ftp.daum.net/ubuntu focal main
</span></span><span style="display:flex;"><span>deb http://ftp.daum.net/ubuntu/ focal universe
</span></span></code></pre></div><p><strong>builduser ìƒì„±í•˜ê¸°</strong></p>
<p>ì¼ë°˜ì ìœ¼ë¡œ yocto ì—ì„œëŠ” root ìœ ì €ëŠ” ë¹Œë“œí•  ìˆ˜ ì—†ë‹¤. (sanity.conf ì—ì„œ ìˆ˜ì •í• 
ìˆ˜ëŠ” ìˆì§€ë§Œ ê¸°ë³¸ê°’ëŒ€ë¡œ ì§„í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ìë¥¼ ë³„ë„ë¡œ ìƒì„±í•˜ì˜€ë‹¤.) ì´ë¥¼ ìœ„í•´
builduser ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•´ì£¼ì.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ useradd builduser
</span></span><span style="display:flex;"><span>$ mkdir -p /home/builduser <span style="color:#666">&amp;&amp;</span> chown -R builduser:builduser /home/builduser
</span></span><span style="display:flex;"><span>$ su - builduser
</span></span></code></pre></div><h1 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬ <a href="#%eb%a7%88%eb%ac%b4%eb%a6%ac" class="anchor">ğŸ”—</a></h1><p>ì´ì œ ë¹Œë“œë¥¼ ìœ„í•œ í™˜ê²½ êµ¬ì„±ì€ ë§ˆë¬´ë¦¬ ë˜ì—ˆë‹¤. Yocto ë¹Œë“œë„ ì»´íŒŒì¼ ì—ëŸ¬ ì—†ì´
ì •ìƒì ìœ¼ë¡œ ë¹Œë“œ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ë¹Œë“œê°€ ë§ˆë¬´ë¦¬ ë˜ê³  í™˜ê²½ì„
ì •ë¦¬í•˜ë ¤ë©´ ì•ì„œ ë§ˆìš´íŠ¸í–ˆë˜ ë””ë ‰í† ë¦¬ë“¤ì„ ê·¸ëŒ€ë¡œ unmount í•´ì£¼ë©´ ëœë‹¤.</p>
<p>ì—…ë¬´ì— ê´€ë ¨ëœ ì˜¤í”ˆ ì†ŒìŠ¤ì— ì°¸ì—¬í•´ë³¼ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê¸°íšŒë¥¼ ì°¾ì€ ê²ƒ ê°™ì•„ ê¸°ì˜ë‹¤.
ë¬´ì—‡ë³´ë‹¤ë„ ì§€ë‚œ 2ë…„ ë°˜ ë™ì•ˆ í•­ìƒ ê¶ê¸ˆí•´í–ˆë˜ ì§ˆë¬¸ë“¤, ê°€ë ¹ &ldquo;ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì–´ë–¤
ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¡œ ë¦´ë¦¬ì¦ˆë¥¼ í• ê¹Œ?&rdquo;, &ldquo;ì–´ë–»ê²Œ ëª¨ë“ˆë³„ë¡œ ê´€ë¦¬í•˜ì—¬ Yoctoë¡œ í†µí•©í• ê¹Œ?&rdquo;,
&ldquo;í…ŒìŠ¤íŒ…ì€ ì–´ë–»ê²Œ í• ê¹Œ?&rdquo;, &ldquo;ì•„í‚¤í…ì²˜ì— ê´€ë ¨ëœ ì»¤ë„ ì½”ë“œëŠ” ì–´ë–»ê²Œ í…ŒìŠ¤íŒ…ì„ í• ê¹Œ?&rdquo;
ë“±ì— ëŒ€í•œ ë‹µì„ ì°¾ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ê¸°ëŒ€ê°ì´ í¬ë‹¤.</p>

    </div>

    
        <div class="tags">
            
                <a href="https://seokbeomkim.github.io/tags/yocto">yocto</a>
            
                <a href="https://seokbeomkim.github.io/tags/bitbake">bitbake</a>
            
                <a href="https://seokbeomkim.github.io/tags/chroot">chroot</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        Copyright - Sukbeom Kim
    
    </div>

    
</footer>



  </body>
</html>
