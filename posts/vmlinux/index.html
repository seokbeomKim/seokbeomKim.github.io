<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Vmlinux | Sukbeom Kim</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="ì»¤ë„ íŒ¨ë‹‰ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ íŒ¨ë‹‰ì´ ì •í™•íˆ ì–´ë””ì„œ ë°œìƒí–ˆëŠ”ì§€ë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ vmlinux íŒŒì¼ì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆë‹¤. addr2line ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ PC ë˜ëŠ” LRì— ë“¤ì–´ìˆë˜ ì£¼ì†Œ">
<meta name="generator" content="Hugo 0.121.2">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">


  
    
    <link rel="stylesheet" href="/css/img.css">
  

  
    
    <link rel="stylesheet" href="/css/noto_sans_kr.css">
  

  
    
    <link rel="stylesheet" href="/css/nanumgothic.css">
  


<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-Y7VW74D2P3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
	  <a class="button" href="/index.xml">Subscribe</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Vmlinux</h1>

    <div class="tip">
        <time datetime="2020-04-21 06:04:17 &#43;0900 KST">Apr 21, 2020</time>
        <span class="split">
          Â·
        </span>
        <span>
          1022 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          3 minute read
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#ì»¤ë„-íŒ¨ë‹‰-ë©”ì‹œì§€-ë¶„ì„í•˜ê¸°">ì»¤ë„ íŒ¨ë‹‰ ë©”ì‹œì§€ ë¶„ì„í•˜ê¸°</a></li>
    <li><a href="#ì¶œì²˜">ì¶œì²˜</a></li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <p>ì»¤ë„ íŒ¨ë‹‰ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ íŒ¨ë‹‰ì´ ì •í™•íˆ ì–´ë””ì„œ ë°œìƒí–ˆëŠ”ì§€ë¥¼ ì•Œì•„ë‚´ê¸° ìœ„í•´ vmlinux íŒŒì¼ì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆë‹¤. <code>addr2line</code> ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ PC ë˜ëŠ” LRì— ë“¤ì–´ìˆë˜ ì£¼ì†Œë¥¼ ì´ìš©í•˜ì—¬ ì‹¤í–‰ëœ ëª…ë ¹ì–´ê°€ ì½”ë“œìƒìœ¼ë¡œ ì–´ë””ì— ìœ„ì¹˜í–ˆëŠ”ì§€ë¥¼ ì•Œì•„ë‚´ëŠ” ê²ƒì¸ë° ì–´ë–¤ ì´ìœ ë¡œ ë””ë²„ê¹…ì´ ê°€ëŠ¥í•œì§€ ê¶ê¸ˆí–ˆê¸°ì— ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” addr2lineì„ ì´ìš©í•œ ì»¤ë„íŒ¨ë‹‰ ë¶„ì„ ë°©ë²•ê³¼ vmlinuxì— ê´€ë ¨ëœ íŒŒì¼ ì¢…ë¥˜ì— ëŒ€í•´ ê°„ë‹¨íˆ ì–¸ê¸‰í•˜ê³ ì í•œë‹¤.</p>
<h2 id="ì»¤ë„-íŒ¨ë‹‰-ë©”ì‹œì§€-ë¶„ì„í•˜ê¸°">ì»¤ë„ íŒ¨ë‹‰ ë©”ì‹œì§€ ë¶„ì„í•˜ê¸° <a href="#%ec%bb%a4%eb%84%90-%ed%8c%a8%eb%8b%89-%eb%a9%94%ec%8b%9c%ec%a7%80-%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0" class="anchor">ğŸ”—</a></h2><p>ì¶œì²˜ë¡œ ëª…ì‹œëœ í˜ì´ì§€ì—ì„œ ê¸°ìˆ ë˜ì–´ ìˆë“¯ ì•„ë˜ì™€ ê°™ì€ ì»¤ë„ íŒ¨ë‹‰ ë©”ì‹œì§€ê°€ ë‚˜ì™”ë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ <code>addr2line</code> ëª…ë ¹ì–´ì™€ <code>vmlinux</code> íŒŒì¼ì„ ì´ìš©í•´ ì‹¤í–‰ ìœ„ì¹˜ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[    0.167728] BUG: unable to handle kernel NULL pointer dereference at 0000000000000050
</span></span><span style="display:flex;"><span>[    0.167733] IP: [&lt;ffffffff810b6fda&gt;] task_tick_fair+0xea/0x9e0
</span></span><span style="display:flex;"><span>[    0.167734] PGD 0
</span></span><span style="display:flex;"><span>[    0.167736] Oops: 0000 [#1] SMP
</span></span><span style="display:flex;"><span>[    0.167737] Modules linked in:
</span></span><span style="display:flex;"><span>[    0.167739] CPU: 0 PID: 1 Comm: swapper/0 Not tainted 4.6.4-dwrr #11
</span></span><span style="display:flex;"><span>[    0.167740] Hardware name: Supermicro H8SGL/H8SGL, BIOS 2.0a       11/11/2011
</span></span><span style="display:flex;"><span>[    0.167741] task: ffff88080d8e8000 ti: ffff88040dd88000 task.ti: ffff88040dd88000
</span></span><span style="display:flex;"><span>[    0.167743] RIP: 0010:[&lt;ffffffff810b6fda&gt;]  [&lt;ffffffff810b6fda&gt;] task_tick_fair+0xea/0x9e0
</span></span><span style="display:flex;"><span>[    0.167744] RSP: 0018:ffff88040fc03dc0  EFLAGS: 00010046
</span></span><span style="display:flex;"><span>[    0.167745] RAX: 00000000005b8d7e RBX: ffff88040fc16c80 RCX: 00000000010e1c7a
</span></span><span style="display:flex;"><span>[    0.167746] RDX: 0000000000000000 RSI: ffff88040fc16e48 RDI: 00000000005b8d80
</span></span><span style="display:flex;"><span>[    0.167747] RBP: ffff88040fc03e30 R08: ffff88040fc16d00 R09: 0000000000000001
</span></span><span style="display:flex;"><span>[    0.167747] R10: 0000000000000000 R11: ffff88040fc16c80 R12: ffff88040fc16d00
</span></span><span style="display:flex;"><span>[    0.167748] R13: 00000000000003cc R14: ffff88080d8e8080 R15: 00000000051be773
</span></span><span style="display:flex;"><span>[    0.167750] FS:  0000000000000000(0000) GS:ffff88040fc00000(0000) knlGS:0000000000000000
</span></span><span style="display:flex;"><span>[    0.167750] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
</span></span><span style="display:flex;"><span>[    0.167751] CR2: 0000000000000050 CR3: 0000000001c06000 CR4: 00000000000406f0
</span></span><span style="display:flex;"><span>[    0.167752] Stack:
</span></span><span style="display:flex;"><span>[    0.167754]  ffff88080d8e8000 ffff88040fc16c80 ffff88040fc16c80 0000000000000000
</span></span><span style="display:flex;"><span>[    0.167756]  0000000000000400 0000000000000001 000000000558e4e3 0000000000000000
</span></span><span style="display:flex;"><span>[    0.167757]  ffffffff810ac372 ffff88040fc16c80 0000000000000000 0000000000016c80
</span></span><span style="display:flex;"><span>[    0.167757] Call Trace:
</span></span><span style="display:flex;"><span>[    0.167762]  &lt;IRQ&gt;
</span></span><span style="display:flex;"><span>[    0.167763]  [&lt;ffffffff810ac372&gt;] ? sched_clock_cpu+0x72/0xa0
</span></span><span style="display:flex;"><span>[    0.167765]  [&lt;ffffffff810a81dc&gt;] scheduler_tick+0x5c/0xd0
</span></span><span style="display:flex;"><span>[    0.167767]  [&lt;ffffffff810eab71&gt;] update_process_times+0x51/0x60
</span></span><span style="display:flex;"><span>[    0.167769]  [&lt;ffffffff810f7c9b&gt;] tick_periodic+0x2b/0x80
</span></span><span style="display:flex;"><span>[    0.167771]  [&lt;ffffffff810f7d15&gt;] tick_handle_periodic+0x25/0x70
</span></span><span style="display:flex;"><span>[    0.167774]  [&lt;ffffffff810306f5&gt;] timer_interrupt+0x15/0x20
</span></span><span style="display:flex;"><span>[    0.167776]  [&lt;ffffffff810d7fc4&gt;] handle_irq_event_percpu+0x44/0x1c0
</span></span><span style="display:flex;"><span>[    0.167778]  [&lt;ffffffff810d817e&gt;] handle_irq_event+0x3e/0x60
</span></span><span style="display:flex;"><span>[    0.167779]  [&lt;ffffffff810db4d1&gt;] handle_level_irq+0x91/0x110
</span></span><span style="display:flex;"><span>[    0.167781]  [&lt;ffffffff8103008d&gt;] handle_irq+0x1d/0x30
</span></span><span style="display:flex;"><span>[    0.167785]  [&lt;ffffffff817df7fd&gt;] do_IRQ+0x4d/0xd0
</span></span><span style="display:flex;"><span>[    0.167787]  [&lt;ffffffff817dd902&gt;] common_interrupt+0x82/0x82
</span></span><span style="display:flex;"><span>[    0.167789]  &lt;EOI&gt;
</span></span><span style="display:flex;"><span>[    0.167789]  [&lt;ffffffff810d665d&gt;] ? console_unlock+0x4ad/0x550
</span></span><span style="display:flex;"><span>[    0.167791]  [&lt;ffffffff810d6925&gt;] vprintk_emit+0x225/0x480
</span></span><span style="display:flex;"><span>[    0.167792]  [&lt;ffffffff810d6cd9&gt;] vprintk_default+0x29/0x40
</span></span><span style="display:flex;"><span>[    0.167794]  [&lt;ffffffff81184d59&gt;] printk+0x4d/0x4f
</span></span><span style="display:flex;"><span>[    0.167798]  [&lt;ffffffff81d6ef43&gt;] smp_store_boot_cpu_info+0xf7/0x19e
</span></span><span style="display:flex;"><span>[    0.167800]  [&lt;ffffffff81d6f049&gt;] native_smp_prepare_cpus+0x5f/0x3d8
</span></span><span style="display:flex;"><span>[    0.167802]  [&lt;ffffffff81d59204&gt;] kernel_init_freeable+0xb5/0x21b
</span></span><span style="display:flex;"><span>[    0.167805]  [&lt;ffffffff817d0a5e&gt;] kernel_init+0xe/0x110
</span></span><span style="display:flex;"><span>[    0.167806]  [&lt;ffffffff817dd1e2&gt;] ret_from_fork+0x22/0x40
</span></span><span style="display:flex;"><span>[    0.167808]  [&lt;ffffffff817d0a50&gt;] ? rest_init+0x80/0x80
</span></span><span style="display:flex;"><span>[    0.167824] Code: 38 0f 84 d7 06 00 00 8b 0d 90 5e b9 00 48 39 ca 72 28 49 8b 4c 24 40 48 8d 51 f0 48 85 c9 b9 00 00 00 00 48 0f 44 d1 49 8b 4e 50 &lt;48&gt; 2b 4a 50 78 09 48 39 c8 0f 82 55 06 00 00 4d 8b b6 50 01 00
</span></span><span style="display:flex;"><span>[    0.167826] RIP  [&lt;ffffffff810b6fda&gt;] task_tick_fair+0xea/0x9e0
</span></span><span style="display:flex;"><span>[    0.167826]  RSP &lt;ffff88040fc03dc0&gt;
</span></span><span style="display:flex;"><span>[    0.167827] CR2: 0000000000000050
</span></span><span style="display:flex;"><span>[    0.167832] ---[ end trace 0cf8749a36857b7f ]---
</span></span><span style="display:flex;"><span>[    0.167833] Kernel panic - not syncing: Fatal exception in interrupt
</span></span><span style="display:flex;"><span>[    0.477095] ---[ end Kernel panic - not syncing: Fatal exception in interrupt
</span></span></code></pre></div><p>ì—¬ê¸°ì„œëŠ” X86 ê³„ì—´ì˜ ëª…ë ¹ì–´ê°€ ë³´ì´ë¯€ë¡œ IP(Instruction Pointer)ì— ì €ì¥ëœ ì£¼ì†Œë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤. <code>IP</code>ê°€ ë‚˜íƒ€ë‚´ê³  ìˆëŠ” ì£¼ì†Œê°’ì„ ì´ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ ì½”ë“œ ë ˆë²¨ì—ì„œ ì–´ëŠ ìœ„ì¹˜ë¥¼ ì‹¤í–‰í•˜ê³  ìˆì—ˆëŠ”ì§€ë¥¼ ë‹¨ë²ˆì— ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>addr2line -e vmlinux ffffffff810b6fda
</span></span><span style="display:flex;"><span>/home/xpenguin/groupamp/linux-4.6.4/kernel/sched/fair.c:3705
</span></span></code></pre></div><p>ê·¸ë ‡ë‹¤ë©´, vmlinux íŒŒì¼ì´ ë¬´ì—‡ì´ê¸¸ë˜ ì´ëŸ¬í•œ ë””ë²„ê¹…ì´ ê°€ëŠ¥í•œ ê²ƒì¼ê¹Œ? ì—¬ê¸°ì— ëŒ€í•´ ê°„ë‹¨í•˜ê²Œ ëª…ì‹œëœ ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° í˜ì´ì§€ê°€ ìˆì—ˆë‹¤. ì¶œì²˜ë¡œì¨ ëª…ì‹œí•˜ê¸°ì—ëŠ” ë¯¼ë§í•˜ì§€ë§Œ, vmlinux ê´€ë ¨ í¬ë§·ì— ëŒ€í•´ ê°„ëµí•˜ê²Œ ì„¤ëª…ë˜ì–´ ìˆê¸°ì— ì¶œì²˜ë¡œì¨ ì‘ì„±í•˜ì˜€ë‹¤.</p>
<ul>
<li>
<p>vmlinux : Linux kernel in an statically linked executable file format. (raw vmlinux íŒŒì¼ì˜ ê²½ìš° ë””ë²„ê¹… ëª©ì ìœ¼ë¡œ <em>ë§¤ìš° ìœ ìš©í•˜ê²Œ</em> ì‚¬ìš©ë  ìˆ˜ ìˆìŒ)</p>
</li>
<li>
<p>vmlinux.bin: vmlinuxì˜ bootable raw binary íŒŒì¼ í¬ë§· ë²„ì „ìœ¼ë¡œ, vmlinux íŒŒì¼ì„ ì´ìš©í•˜ì—¬ <code>objcopy -O binary vmlinux vmlinux.bin</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒì„±í•´ë‚¼ ìˆ˜ ìˆë‹¤. ì´ íŒŒì¼ì—ëŠ” ëª¨ë“  ì‹¬ë³¼ ì •ë³´ì™€ ì¬ë°°ì¹˜ ì •ë³´ê°€ ì‚­ì œë˜ì–´ ìˆë‹¤.</p>
</li>
<li>
<p>vmlinuz: vmlinuxì˜ <code>zlib</code>ì„ ì´ìš©í•´ ì••ì¶•ëœ í˜•íƒœ</p>
</li>
<li>
<p>zImage: small kernel(compressed, below 512KB)ì˜ ì˜¤ë˜ëœ ë²„ì „</p>
</li>
<li>
<p>bzImage: &lsquo;big zImage&rsquo; ì˜ë¯¸ë¡œì„œ <code>bzip2</code>ì™€ëŠ” ë¬´ê´€í•˜ë©°, (compressed, over 512KB) zImageì— ë¹„í•´ ìš©ëŸ‰ì´ í° ë²„ì „ì´ë‹¤.</p>
</li>
</ul>
<h2 id="ì¶œì²˜">ì¶œì²˜ <a href="#%ec%b6%9c%ec%b2%98" class="anchor">ğŸ”—</a></h2><ul>
<li>
<p><a href="https://unix.stackexchange.com/questions/5518/what-is-the-difference-between-the-following-kernel-makefile-terms-vmlinux-vml" target="_blank" rel="noopener">https://unix.stackexchange.com/questions/5518/what-is-the-difference-between-the-following-kernel-makefile-terms-vmlinux-vml</a></p>
</li>
<li>
<p><a href="http://egloos.zum.com/holypsycho/v/3548805" target="_blank" rel="noopener">http://egloos.zum.com/holypsycho/v/3548805</a></p>
</li>
</ul>

    </div>

    
        <div class="tags">
            
                <a href="/tags/vmlinux">vmlinux</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        Copyright - Sukbeom Kim
    
    </div>

    
</footer>



  </body>
</html>
