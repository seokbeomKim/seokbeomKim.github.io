<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>WARN_ON, BUG_ON ë§¤í¬ë¡œ | Sukbeom Kim</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="ê°œìš” ğŸ”—ì—…ë¬´ ì¤‘ì— ì˜ˆì „ SDKì—ì„œ ì»¤ë„ íŒ¨ë‹‰ì´ ì¼ì–´ë‚˜ëŠ” ê²ƒì„ ë³´ê³  ê´€ë ¨ ì½”ë“œë¥¼ ì‚´í´ë³´ë‹ˆ, BUG_ON ë§¤í¬ë¡œ ì‚¬ìš©ì— ì˜í•œ ê²ƒìœ¼ë¡œ íŒŒì•…í–ˆë‹¤. ì»¤ë„ íŒ¨ë‹‰ì„ ì¼ìœ¼í‚¬ ì •ë„ë¡œ í¬ë¦¬í‹°ì»¬ì€">
<meta name="generator" content="Hugo 0.121.2">


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">


  
    
    <link rel="stylesheet" href="/css/img.css">
  

  
    
    <link rel="stylesheet" href="/css/noto_sans_kr.css">
  

  
    
    <link rel="stylesheet" href="/css/nanumgothic.css">
  


<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-Y7VW74D2P3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
	  <a class="button" href="/index.xml">Subscribe</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">WARN_ON, BUG_ON ë§¤í¬ë¡œ</h1>

    <div class="tip">
        <time datetime="2020-02-21 00:12:34 &#43;0900 KST">Feb 21, 2020</time>
        <span class="split">
          Â·
        </span>
        <span>
          545 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          2 minute read
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#bug">BUG()</a></li>
    <li><a href="#warn">WARN()</a></li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <h1 id="ê°œìš”">ê°œìš” <a href="#%ea%b0%9c%ec%9a%94" class="anchor">ğŸ”—</a></h1><p>ì—…ë¬´ ì¤‘ì— ì˜ˆì „ SDKì—ì„œ ì»¤ë„ íŒ¨ë‹‰ì´ ì¼ì–´ë‚˜ëŠ” ê²ƒì„ ë³´ê³  ê´€ë ¨ ì½”ë“œë¥¼
ì‚´í´ë³´ë‹ˆ, <code>BUG_ON</code> ë§¤í¬ë¡œ ì‚¬ìš©ì— ì˜í•œ ê²ƒìœ¼ë¡œ íŒŒì•…í–ˆë‹¤. ì»¤ë„ íŒ¨ë‹‰ì„
ì¼ìœ¼í‚¬ ì •ë„ë¡œ í¬ë¦¬í‹°ì»¬ì€ ì•„ë‹ˆì—ˆê¸°ì— í•´ë‹¹ ë§¤í¬ë¡œë¥¼ <code>WARN_ON</code>ìœ¼ë¡œ
ë³€ê²½í•˜ì˜€ë‹¤. ë³€ê²½ ì´í›„ì— ì»¤ë„ íŒ¨ë‹‰ì€ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ì§€ë§Œ ì»¤ë„ ë©”ì‹œì§€ë¡œ
ë³´ì—¬ì£¼ëŠ” ë‚´ìš©ì´ ì¡°ê¸ˆ ë‹¬ëë‹¤.</p>
<p>ì´ ê¸€ì—ì„œëŠ” <code>BUG_ON</code>, <code>WARN_ON</code> ë“± ì»¤ë„ì—ì„œ ì œê³µí•˜ëŠ” <code>assertion</code>ì—
í•´ë‹¹í•˜ëŠ” ë§¤í¬ë¡œê°€ ì–´ë–¤ ê²ƒë“¤ì´ ìˆëŠ”ì§€ ì‚´í´ë³´ê³  <strong>ì–´ë–¤ ê²½ìš°ì— ì‚¬ìš©í•´ì•¼
í•˜ëŠ”ì§€ì— ëŒ€í•´ ê°„ëµíˆ ì •ë¦¬í•˜ê³ ì í•œë‹¤</strong>. ì´ ì™¸ì— ì»¤ë„ì—ì„œëŠ”
<code>dump_stack()</code>, <code>save_stack_trace()</code>, <code>dump_trace()</code>, <code>backtrace()</code>
ë“±ì˜ ì½œ ìŠ¤íƒ ì¶œë ¥ ë°©ë²•ì„ ì œê³µí•œë‹¤.</p>
<h1 id="warn_on-bug_on">WARN_ON, BUG_ON <a href="#warn_on-bug_on" class="anchor">ğŸ”—</a></h1><p>ì¶œì²˜ì— ë”°ë¥´ë©´, ë¦¬ëˆ…ìŠ¤ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ì—ì„œ ê°€ì¥ ë¹ˆë²ˆí•˜ê²Œ ë‚˜íƒ€ë‚˜ëŠ”
ë§¤í¬ë¡œëŠ” <code>BUG_ON/BUG</code>ì™€ <code>WARN_ON</code>ì´ë¼ê³  ì„¤ëª…í•˜ê³  ìˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>BUG_ON(condition)
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">// ë˜ëŠ”
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"></span><span style="color:#a2f;font-weight:bold">if</span> (condition)
</span></span><span style="display:flex;"><span>	BUG()
</span></span></code></pre></div><p>ìœ„ ì˜ˆì‹œì²˜ëŸ¼ ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ê°ê°ì˜ ë§¤í¬ë¡œê°€ í•˜ëŠ” ì—­í• ì€
ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<h2 id="bug">BUG() <a href="#bug" class="anchor">ğŸ”—</a></h2><ul>
<li>ë ˆì§€ìŠ¤í„° ë‚´ìš© ì¶œë ¥</li>
<li>Stack Trace ì¶œë ¥</li>
<li>ì»¤ë„ íŒ¨ë‹‰ ë°œìƒ</li>
</ul>
<h2 id="warn">WARN() <a href="#warn" class="anchor">ğŸ”—</a></h2><ul>
<li>ë ˆì§€ìŠ¤í„° ë‚´ìš© ì¶œë ¥</li>
<li>Stack Trace ì¶œë ¥</li>
</ul>
<p><code>linux/include/asm-generic/bug.h</code> íŒŒì¼ì„ ì‚´í´ë³´ë©´ BUG() ë§¤í¬ë¡œì— ëŒ€í•´
ì•„ë˜ì™€ ê°™ì´ ì£¼ì„ì„ ë‹¬ì•„ë†“ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì •ë§ë¡œ ëŒ€ì•ˆì´ ì—†ì„
ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ë„ë¡ í•˜ë©°, ì •ë§ë¡œ ë³µêµ¬í•  ë°©ë²•ì´ ì—†ì„ ë•Œì—ë§Œ ì‚¬ìš©í•˜ë„ë¡
í•˜ì.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#080;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * Don&#39;t use BUG() or BUG_ON() unless there&#39;s really no way out; one
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * example might be detecting data structure corruption in the middle
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * of an operation that can&#39;t be backed out of.  If the (sub)system
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * can somehow continue operating, perhaps with reduced functionality,
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * it&#39;s probably not BUG-worthy.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * If you&#39;re tempted to BUG(), think again:  is completely giving up
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * really the *only* solution?  There are usually better options, where
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> * users don&#39;t need to reboot ASAP and can mostly shut down cleanly.
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"> */</span>
</span></span></code></pre></div><h1 id="ì¶œì²˜">ì¶œì²˜ <a href="#%ec%b6%9c%ec%b2%98" class="anchor">ğŸ”—</a></h1><ul>
<li><a href="http://embeddedguruji.blogspot.com/2018/12/bugon-vs-warnon-macros-in-linux-kernel.html" target="_blank" rel="noopener">http://embeddedguruji.blogspot.com/2018/12/bugon-vs-warnon-macros-in-linux-kernel.html</a></li>
<li><a href="https://dreamlog.tistory.com/343" target="_blank" rel="noopener">https://dreamlog.tistory.com/343</a></li>
</ul>

    </div>

    
        <div class="tags">
            
                <a href="/tags/warn_on">WARN_ON</a>
            
                <a href="/tags/bug_on">BUG_ON</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        Copyright - Sukbeom Kim
    
    </div>

    
</footer>



  </body>
</html>
